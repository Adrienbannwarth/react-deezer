{"ast":null,"code":"var STORAGE_FAVORITE_KEY = 'deezweb.favorites';\nexport default {\n  // Retourne les favoris du localStorage du navigateur\n  getFavoritesFromStorage: function getFavoritesFromStorage() {\n    return JSON.parse(window.localStorage.getItem(STORAGE_FAVORITE_KEY)) || [];\n  },\n  // Vérifie si une musique se trouve dans les favoris\n  isFavorite: function isFavorite(music) {\n    return Boolean(this.getFavoritesFromStorage().find(function (f) {\n      return f.id === music.id;\n    }));\n  },\n  // Permet d'ajouter/supprimer un favori du localStorage\n  toggleFavorite: function toggleFavorite(music) {\n    console.log(music);\n\n    if (this.isFavorite(music)) {\n      this.removeFavoriteFromStorage(music);\n    } else {\n      this.addFavoriteToStorage(music);\n    }\n  },\n  // Ajoute un favori au localStorage\n  addFavoriteToStorage: function addFavoriteToStorage(music) {\n    var favorites = this.getFavoritesFromStorage();\n    favorites.push(music);\n    window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites));\n  },\n  // Supprime un favori du localStorage\n  removeFavoriteFromStorage: function removeFavoriteFromStorage(music) {\n    var favorites = this.getFavoritesFromStorage();\n    var musicIndex = favorites.findIndex(function (f) {\n      return f.id === music.id;\n    });\n    favorites.splice(musicIndex, 1);\n    window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites));\n  }\n};","map":{"version":3,"sources":["/Applications/MAMP/htdocs/deezer/react-deezweb/src/FavService.js"],"names":["STORAGE_FAVORITE_KEY","getFavoritesFromStorage","JSON","parse","window","localStorage","getItem","isFavorite","music","Boolean","find","f","id","toggleFavorite","console","log","removeFavoriteFromStorage","addFavoriteToStorage","favorites","push","setItem","stringify","musicIndex","findIndex","splice"],"mappings":"AAAA,IAAMA,oBAAoB,GAAG,mBAA7B;AAEA,eAAe;AACX;AACAC,EAAAA,uBAFW,qCAEe;AACtB,WAAOC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BN,oBAA5B,CAAX,KAAiE,EAAxE;AAEH,GALU;AAOX;AACAO,EAAAA,UARW,sBAQAC,KARA,EAQO;AACd,WAAOC,OAAO,CAAC,KAAKR,uBAAL,GAA+BS,IAA/B,CAAoC,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,EAAF,KAASJ,KAAK,CAACI,EAAnB;AAAA,KAArC,CAAD,CAAd;AAEH,GAXU;AAaX;AACAC,EAAAA,cAdW,0BAcIL,KAdJ,EAcW;AAClBM,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;;AACA,QAAI,KAAKD,UAAL,CAAgBC,KAAhB,CAAJ,EAA4B;AACxB,WAAKQ,yBAAL,CAA+BR,KAA/B;AACH,KAFD,MAEO;AACH,WAAKS,oBAAL,CAA0BT,KAA1B;AACH;AAEJ,GAtBU;AAwBX;AACAS,EAAAA,oBAzBW,gCAyBUT,KAzBV,EAyBiB;AACxB,QAAMU,SAAS,GAAG,KAAKjB,uBAAL,EAAlB;AACAiB,IAAAA,SAAS,CAACC,IAAV,CAAeX,KAAf;AACAJ,IAAAA,MAAM,CAACC,YAAP,CAAoBe,OAApB,CAA4BpB,oBAA5B,EAAkDE,IAAI,CAACmB,SAAL,CAAeH,SAAf,CAAlD;AAEH,GA9BU;AAgCX;AACAF,EAAAA,yBAjCW,qCAiCeR,KAjCf,EAiCsB;AAC7B,QAAMU,SAAS,GAAG,KAAKjB,uBAAL,EAAlB;AACA,QAAMqB,UAAU,GAAGJ,SAAS,CAACK,SAAV,CAAoB,UAAAZ,CAAC;AAAA,aAAIA,CAAC,CAACC,EAAF,KAASJ,KAAK,CAACI,EAAnB;AAAA,KAArB,CAAnB;AACAM,IAAAA,SAAS,CAACM,MAAV,CAAiBF,UAAjB,EAA6B,CAA7B;AACAlB,IAAAA,MAAM,CAACC,YAAP,CAAoBe,OAApB,CAA4BpB,oBAA5B,EAAkDE,IAAI,CAACmB,SAAL,CAAeH,SAAf,CAAlD;AAEH;AAvCU,CAAf","sourcesContent":["const STORAGE_FAVORITE_KEY = 'deezweb.favorites'\n\nexport default {\n    // Retourne les favoris du localStorage du navigateur\n    getFavoritesFromStorage() {\n        return JSON.parse(window.localStorage.getItem(STORAGE_FAVORITE_KEY)) || []\n\n    },\n\n    // Vérifie si une musique se trouve dans les favoris\n    isFavorite(music) {\n        return Boolean(this.getFavoritesFromStorage().find(f => f.id === music.id))\n\n    },\n\n    // Permet d'ajouter/supprimer un favori du localStorage\n    toggleFavorite(music) {\n        console.log(music)\n        if (this.isFavorite(music)) {\n            this.removeFavoriteFromStorage(music)\n        } else {\n            this.addFavoriteToStorage(music)\n        }\n\n    },\n\n    // Ajoute un favori au localStorage\n    addFavoriteToStorage(music) {\n        const favorites = this.getFavoritesFromStorage()\n        favorites.push(music)\n        window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites))\n\n    },\n\n    // Supprime un favori du localStorage\n    removeFavoriteFromStorage(music) {\n        const favorites = this.getFavoritesFromStorage()\n        const musicIndex = favorites.findIndex(f => f.id === music.id)\n        favorites.splice(musicIndex, 1)\n        window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites))\n     \n    }\n}\n"]},"metadata":{},"sourceType":"module"}